<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Spark for Social Science</title>
  <meta name="description" content="Spark for Social Science">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Spark for Social Science" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="urbaninstitute/spark-social-science-manual" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Spark for Social Science" />
  
  
  

<meta name="author" content="Research Programming, The Urban Institute">


<meta name="date" content="2017-01-27">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="getting-started-with-spark.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Spark Social Science Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About Spark Social Science</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> - Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#outgrowing-the-server-when-should-social-scientists-consider-distributed-computing"><i class="fa fa-check"></i><b>1.1</b> Outgrowing the server: When should social scientists consider distributed computing?</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#making-distributed-computing-straightforward-cost-effective"><i class="fa fa-check"></i><b>1.2</b> Making distributed computing straightforward &amp; cost-effective</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="getting-started-with-spark.html"><a href="getting-started-with-spark.html"><i class="fa fa-check"></i><b>2</b> - Getting Started with Spark</a><ul>
<li class="chapter" data-level="2.1" data-path="getting-started-with-spark.html"><a href="getting-started-with-spark.html#what-about-stata-and-sas"><i class="fa fa-check"></i><b>2.1</b> What About Stata and SAS?</a></li>
<li class="chapter" data-level="2.2" data-path="getting-started-with-spark.html"><a href="getting-started-with-spark.html#choosing-between-sparkr-and-pyspark"><i class="fa fa-check"></i><b>2.2</b> Choosing Between SparkR and PySpark</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="understanding-spark.html"><a href="understanding-spark.html"><i class="fa fa-check"></i><b>3</b> - Understanding Spark</a><ul>
<li class="chapter" data-level="3.1" data-path="understanding-spark.html"><a href="understanding-spark.html#what-is-apache-spark"><i class="fa fa-check"></i><b>3.1</b> What is Apache Spark?</a></li>
<li class="chapter" data-level="3.2" data-path="understanding-spark.html"><a href="understanding-spark.html#what-makes-cluster-computing-different"><i class="fa fa-check"></i><b>3.2</b> What Makes Cluster Computing Different?</a></li>
<li class="chapter" data-level="3.3" data-path="understanding-spark.html"><a href="understanding-spark.html#what-makes-parallel-processing-different"><i class="fa fa-check"></i><b>3.3</b> What Makes Parallel Processing Different?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="sorting-distributed-data.html"><a href="sorting-distributed-data.html"><i class="fa fa-check"></i><b>4</b> - Sorting Distributed Data</a><ul>
<li class="chapter" data-level="4.1" data-path="sorting-distributed-data.html"><a href="sorting-distributed-data.html#sorting-in-distributed-computing"><i class="fa fa-check"></i><b>4.1</b> Sorting in Distributed Computing</a></li>
<li class="chapter" data-level="4.2" data-path="sorting-distributed-data.html"><a href="sorting-distributed-data.html#shuffling-intuition"><i class="fa fa-check"></i><b>4.2</b> Shuffling Intuition</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>5</b> - Data Visualization</a><ul>
<li class="chapter" data-level="5.1" data-path="data-visualization.html"><a href="data-visualization.html#visualization-process"><i class="fa fa-check"></i><b>5.1</b> Visualization Process</a></li>
<li class="chapter" data-level="5.2" data-path="data-visualization.html"><a href="data-visualization.html#section"><i class="fa fa-check"></i><b>5.2</b> </a></li>
<li class="chapter" data-level="5.3" data-path="data-visualization.html"><a href="data-visualization.html#recommended-charts"><i class="fa fa-check"></i><b>5.3</b> Recommended Charts</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="econometrics-and-large-scale-data.html"><a href="econometrics-and-large-scale-data.html"><i class="fa fa-check"></i><b>6</b> - Econometrics and Large-scale Data</a><ul>
<li class="chapter" data-level="6.1" data-path="econometrics-and-large-scale-data.html"><a href="econometrics-and-large-scale-data.html#implications-for-hypothesis-testing"><i class="fa fa-check"></i><b>6.1</b> Implications for Hypothesis Testing</a><ul>
<li class="chapter" data-level="6.1.1" data-path="econometrics-and-large-scale-data.html"><a href="econometrics-and-large-scale-data.html#statistical-v.-practical-significance"><i class="fa fa-check"></i><b>6.1.1</b> Statistical v. Practical Significance</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="econometrics-and-large-scale-data.html"><a href="econometrics-and-large-scale-data.html#mathematical-and-computational-implications"><i class="fa fa-check"></i><b>6.2</b> Mathematical and Computational Implications</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="advanced-spark.html"><a href="advanced-spark.html"><i class="fa fa-check"></i><b>7</b> - Advanced Spark</a><ul>
<li class="chapter" data-level="7.1" data-path="advanced-spark.html"><a href="advanced-spark.html#spark-sql"><i class="fa fa-check"></i><b>7.1</b> Spark SQL</a></li>
<li class="chapter" data-level="7.2" data-path="advanced-spark.html"><a href="advanced-spark.html#spark-streaming"><i class="fa fa-check"></i><b>7.2</b> Spark Streaming</a></li>
<li class="chapter" data-level="7.3" data-path="advanced-spark.html"><a href="advanced-spark.html#graphx"><i class="fa fa-check"></i><b>7.3</b> GraphX</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>8</b> - Appendix</a><ul>
<li class="chapter" data-level="8.1" data-path="appendix.html"><a href="appendix.html#unbounded-sample-size-statistical-significance-sketch-of-proof"><i class="fa fa-check"></i><b>8.1</b> Unbounded sample size &amp; statistical significance – sketch of proof</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="glossary-of-terms.html"><a href="glossary-of-terms.html"><i class="fa fa-check"></i><b>9</b> - Glossary of Terms</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Spark for Social Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="intro" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> - Introduction</h1>
<p>Most social scientists perform statistical analysis on personal computers or on servers dedicated to statistical processing. While these environments do provide effective research platforms for the majority of projects, their inherent constraints on data size and processing speed limit the ability of social scientists to perform empirical analysis on large data sets.This is especially problematic considering emerging data sources of massive scale (e.g. from social media, the “internet of things”“, or satellies) that can be <a href="http://www.urban.org/urban-wire/future-social-science-research-data-science-perspective">highly pertinent</a> to social science.</p>
<p>We begin this guide by discussing: (1) alternative frameworks for data storage and performing statistical analysis, (2) when social scientists may benefit from these approaches, and (3) the solution developed by the Urban Institute to address the massive data needs of public policy researchers.</p>
<p>We subsequently provide an overview of the framework that supports the solution developed by Urban and best-practices for utilizing this solution. While understanding the mechanisms behind the framework in detail is not necessary to leverage the big data approach described below, a basic understanding will help researchers to perform their analyses much more efficiently.</p>
<div id="outgrowing-the-server-when-should-social-scientists-consider-distributed-computing" class="section level2">
<h2><span class="header-section-number">1.1</span> Outgrowing the server: When should social scientists consider distributed computing?</h2>
<p>When working with data in traditional platforms on a personal computer, or accessing a server, the system pulls data from physical storage (your hard drive) and loads it into your system’s memory while you work with it (e.g. Stata), or iteratively reads the data into and out of memory (e.g. SAS). Whether you are working from your personal computer’s hard drive and memory, or utilizing a server, the size of any potential data is constrained by the capacity of that system. For the majority of what is traditionally considered to be social science research, this framework is effective and convenient; Spark for Social Science does not replace any existing solutions in this range. It is only when the data becomes large enough or the processing becomes intense enough that researchers need to look beyond traditional frameworks for statistical analysis.</p>
<p>When data size outgrows this defined capacity level, relying on this framework results in inefficiencies and/or prohibitive costs for most organizations. Acquiring a larger server is one solution, but aside from the often extraordinary expense associated with this, the size of the data that can be stored and analyzed on any given server is still finite.</p>
<p>This problem is compounded by the fact that an organization will always need a server large enough for its most computationally demanding project. Given the intermittent nature of social science research, this will often result in paying for long stretches of unused capacity. Additionally, if a new, larger project comes along, or if several researchers need computational resources at the same time, the server has no capacity to adapt.</p>
<p>Subsequent sections of this manual describe the Urban Institute approach, coined Spark Social Science, to address the needs of policy researchers that work with massive data. The system described below does not require the owning and maintainance of a server capable of handling massive data. Our approach instead leverages scalable cloud computing hosted by Amazon Web Services (AWS) and the distributed computing platform Apache Spark (Spark). The framework is directly tied to the elasticity of researcher demand for computational capacity, simultaneously providing researchers with greater flexibility at dramatically reduced organizational costs.</p>
<p>When should researchers make the jump from the desktop or server, to a distributed computing platform like Spark? The answer depends on the size of the researcher’s data, the size of the server that the researcher currently relies on, and the number of researchers sharing that server. Researchers should utilize distributed computing if their data is larger in size than the server memory and storage available to them (after sharing server resources with other researchers). Alternatively, some statistical analyses that are very demanding of processing power may also benefit greatly from distributed computing.</p>
</div>
<div id="making-distributed-computing-straightforward-cost-effective" class="section level2">
<h2><span class="header-section-number">1.2</span> Making distributed computing straightforward &amp; cost-effective</h2>
<p>The Spark Social Science approach relies on cloud-based, distributed computing rather than an on-site server. The Spark distributed computing platform stores and processes data across a <strong>cluster</strong> of machines, <strong>distributing</strong> the data storage and processing tasks across the cluster. This allows many computers with hundreds or thousands or processers and terabytes of memory to work together to analyze data.</p>
<p>Specifically, our framework allows researchers to “spin-up” and shut down clusters, or groups, of computers using <a href="https://aws.amazon.com/emr/">AWS Elastic MapReduce</a> (EMR)<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>.</p>
<p>Since these clusters are only temporarily in use, data is stored permanently in the AWS data storage infrastructure, called <strong>S3</strong>. The individual machines that make up the cluster are called EC2 instances<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>.</p>
<div class="figure">
<img src="images/spark.png" />

</div>
<p>This cloud-based, distributed framework effectively removes any computing constraint on the size of data that researchers can store and analyze. Researchers can rent any number of machines from AWS and then use Spark, which coordinates tasks between machines, to implement their data analysis and manipulation. Data is stored in S3, and then distributed in memory across the cluster machines when tasks need to be performed. This can be scaled to a massive degree – the largest publicly-known cluster to have utilized Spark is 8,000 machines, and Spark has been shown to perform well processing up to several petabytes (each 1 million gigabytes) worth of data.<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a></p>
<p>Installation of Spark occurs during AWS cluster configuration so that researchers can immediately perform work with their data in the distributed environment. In addition, the scripts we have written in the <a href="https://github.com/UrbanInstitute/spark-social-science">Spark Social Science GitHub page</a> set up analytical environments (RStudio or Jupyter Notebooks) so researchers can work in R or Python once a cluster is finished spinning up. We describe and compare supported programming languages in subsequent sections of this manual.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Google Cloud’s DataProc would also likely work for this task, though we have not yet implemented that approach<a href="intro.html#fnref1">↩</a></p></li>
<li id="fn2"><p>A complete list of EC2 instance types can be found at <a href="https://aws.amazon.com/ec2/instance-types/" class="uri">https://aws.amazon.com/ec2/instance-types/</a>.<a href="intro.html#fnref2">↩</a></p></li>
<li id="fn3"><p><a href="http://spark.apache.org/faq.html" class="uri">http://spark.apache.org/faq.html</a><a href="intro.html#fnref3">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="getting-started-with-spark.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/01-intro.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
